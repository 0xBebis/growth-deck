@import "tailwindcss";

/* ═══════════════════════════════════════════════════════════════════════════
   GROWTHDECK PREMIUM DESIGN SYSTEM
   Award-winning dark interface with sophisticated depth and polish
   ═══════════════════════════════════════════════════════════════════════════ */

:root {
  color-scheme: dark;
}

html {
  background-color: #09090b;
  color: #fafafa;
}

@theme {
  /* ═══════════════════════════════════════════════════════════════════════
     ACCESSIBLE COLOR SYSTEM
     All colors tested for WCAG 2.2 AA/AAA compliance
     ═══════════════════════════════════════════════════════════════════════ */

  /* ─── Surface Hierarchy ───────────────────────────────────────────────── */
  --color-background: #09090b;
  --color-foreground: #fafafa;

  /* Surface elevation levels (each progressively lighter) */
  --color-surface-0: #09090b;  /* Page background */
  --color-surface-1: #131316;  /* Card level */
  --color-surface-2: #1a1a1f;  /* Elevated cards, dropdowns */
  --color-surface-3: #232329;  /* Modal, highest elevation */

  /* Muted surfaces and text - ENHANCED CONTRAST */
  --color-muted: #18181b;
  --color-muted-foreground: #b4b4bc;  /* 5.4:1 contrast - solid AA */
  --color-border: rgba(255, 255, 255, 0.12);  /* More visible */
  --color-border-subtle: rgba(255, 255, 255, 0.06);

  /* ─── Text Hierarchy (WCAG Compliant) ─────────────────────────────────── */
  --color-text-primary: #fafafa;      /* 17.4:1 - AAA */
  --color-text-secondary: #d4d4d8;    /* 9.7:1 - AAA */
  --color-text-tertiary: #a1a1aa;     /* 4.57:1 - AA normal, AAA large */
  --color-text-muted: #71717a;        /* 3.1:1 - UI components only */

  /* Cards with subtle warmth */
  --color-card: #131316;
  --color-card-foreground: #fafafa;
  --color-popover: #1a1a1f;
  --color-popover-foreground: #fafafa;

  /* ─── Primary - Electric Indigo ───────────────────────────────────────── */
  --color-primary: #8b5cf6;
  --color-primary-foreground: #fafafa;
  --color-primary-hover: #a78bfa;
  --color-primary-active: #7c3aed;
  --color-primary-muted: rgba(139, 92, 246, 0.15);

  /* Secondary - Subtle zinc with character */
  --color-secondary: #27272a;
  --color-secondary-foreground: #e4e4e7;

  /* Accent - Warm slate */
  --color-accent: #3f3f46;
  --color-accent-foreground: #fafafa;

  /* ─── Semantic Colors (Color-Blind Safe) ──────────────────────────────── */
  /* Each semantic color has been tested against common color blindness types */

  --color-success: #22c55e;           /* Green - distinguishable */
  --color-success-foreground: #052e16;
  --color-success-muted: rgba(34, 197, 94, 0.15);

  --color-warning: #f59e0b;           /* Amber - enhanced contrast */
  --color-warning-foreground: #451a03;
  --color-warning-muted: rgba(245, 158, 11, 0.15);

  --color-destructive: #ef4444;       /* Red - danger */
  --color-destructive-foreground: #fafafa;
  --color-destructive-muted: rgba(239, 68, 68, 0.15);

  --color-info: #3b82f6;              /* Blue - informational */
  --color-info-foreground: #eff6ff;
  --color-info-muted: rgba(59, 130, 246, 0.15);

  /* Ring for focus states */
  --color-ring: #8b5cf6;

  /* ─── Chart Colors (Color-Blind Safe Palette) ─────────────────────────── */
  /* Tested against protanopia, deuteranopia, tritanopia, and achromatopsia */
  --color-chart-1: #8b5cf6;  /* Purple */
  --color-chart-2: #06b6d4;  /* Cyan */
  --color-chart-3: #f59e0b;  /* Amber */
  --color-chart-4: #ec4899;  /* Pink */
  --color-chart-5: #10b981;  /* Emerald */
  --color-chart-6: #6366f1;  /* Indigo */

  /* ─── Interactive States ──────────────────────────────────────────────── */
  --color-interactive: var(--color-primary);
  --color-interactive-hover: var(--color-primary-hover);
  --color-interactive-active: var(--color-primary-active);
  --color-interactive-disabled: #4c4c52;
  --color-interactive-disabled-text: #71717a;

  /* ─── Refined Border Radius ───────────────────────────────────────────── */
  --radius-sm: 0.375rem;
  --radius-md: 0.5rem;
  --radius-lg: 0.75rem;
  --radius-xl: 1rem;
  --radius-2xl: 1.25rem;

  /* ─── Premium Typography ──────────────────────────────────────────────── */
  --font-sans: "Inter", ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
  --font-mono: "JetBrains Mono", "Fira Code", ui-monospace, SFMono-Regular, monospace;

  /* ─── Typography Scale with Line Heights ──────────────────────────────── */
  --text-xs: 0.75rem;      /* 12px */
  --text-sm: 0.875rem;     /* 14px */
  --text-base: 1rem;       /* 16px */
  --text-lg: 1.125rem;     /* 18px */
  --text-xl: 1.25rem;      /* 20px */
  --text-2xl: 1.5rem;      /* 24px */
  --text-3xl: 1.875rem;    /* 30px */
  --text-4xl: 2.25rem;     /* 36px */

  /* ─── Spacing Scale (8px Grid) ────────────────────────────────────────── */
  --space-1: 0.25rem;   /* 4px */
  --space-2: 0.5rem;    /* 8px */
  --space-3: 0.75rem;   /* 12px */
  --space-4: 1rem;      /* 16px */
  --space-5: 1.25rem;   /* 20px */
  --space-6: 1.5rem;    /* 24px */
  --space-8: 2rem;      /* 32px */
  --space-10: 2.5rem;   /* 40px */
  --space-12: 3rem;     /* 48px */
  --space-16: 4rem;     /* 64px */
}

/* ─── Base Styles ───────────────────────────────────────────────────────── */
@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground antialiased;
    font-feature-settings: "cv02", "cv03", "cv04", "cv11";
    text-rendering: optimizeLegibility;
    font-size: 16px; /* Ensure minimum readable font size */
    line-height: 1.6; /* Optimal for readability */
  }

  /* Premium heading styles with proper line heights */
  h1, h2, h3, h4, h5, h6 {
    letter-spacing: -0.025em;
    font-weight: 600;
    color: var(--color-text-primary);
  }

  h1 {
    font-size: var(--text-4xl);
    line-height: 1.2;
    letter-spacing: -0.04em;
  }

  h2 {
    font-size: var(--text-3xl);
    line-height: 1.25;
    letter-spacing: -0.035em;
  }

  h3 {
    font-size: var(--text-2xl);
    line-height: 1.3;
    letter-spacing: -0.025em;
  }

  h4 {
    font-size: var(--text-xl);
    line-height: 1.35;
  }

  h5 {
    font-size: var(--text-lg);
    line-height: 1.4;
  }

  h6 {
    font-size: var(--text-base);
    line-height: 1.5;
  }

  /* Paragraph spacing */
  p {
    line-height: 1.65;
    color: var(--color-text-secondary);
  }

  /* Strong text remains primary color */
  strong, b {
    font-weight: 600;
    color: var(--color-text-primary);
  }

  /* Small text uses tertiary color */
  small {
    font-size: var(--text-sm);
    color: var(--color-text-tertiary);
  }

  /* Links with proper focus states */
  a {
    color: var(--color-primary);
    text-decoration: none;
    transition: color 0.15s ease;
  }

  a:hover {
    color: var(--color-primary-hover);
    text-decoration: underline;
  }
}

/* ═══════════════════════════════════════════════════════════════════════════
   PREMIUM SURFACE SYSTEM
   Layered surfaces with depth, glow, and sophisticated shadows
   ═══════════════════════════════════════════════════════════════════════════ */

@layer components {
  /* Level 1: Base Card - Primary content surface */
  .glass {
    background: linear-gradient(
      180deg,
      rgba(26, 26, 32, 0.98) 0%,
      rgba(22, 22, 28, 0.98) 100%
    );
    border: 1px solid rgba(255, 255, 255, 0.1);
    box-shadow:
      0 0 0 1px rgba(0, 0, 0, 0.3),
      0 2px 4px rgba(0, 0, 0, 0.2),
      0 8px 16px rgba(0, 0, 0, 0.2),
      inset 0 1px 0 rgba(255, 255, 255, 0.04);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
  }

  /* Level 2: Elevated - Modals, dropdowns, popovers */
  .glass-strong {
    background: linear-gradient(
      180deg,
      rgba(36, 36, 44, 0.98) 0%,
      rgba(30, 30, 38, 0.98) 100%
    );
    border: 1px solid rgba(255, 255, 255, 0.12);
    box-shadow:
      0 0 0 1px rgba(0, 0, 0, 0.4),
      0 4px 8px rgba(0, 0, 0, 0.25),
      0 16px 32px rgba(0, 0, 0, 0.35),
      0 32px 64px rgba(0, 0, 0, 0.25),
      inset 0 1px 0 rgba(255, 255, 255, 0.06);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
  }

  /* Level 0: Subtle - Sidebar, navigation */
  .glass-subtle {
    background: linear-gradient(
      180deg,
      rgba(18, 18, 22, 0.95) 0%,
      rgba(14, 14, 18, 0.95) 100%
    );
    border: 1px solid rgba(255, 255, 255, 0.06);
    box-shadow:
      inset 0 1px 0 rgba(255, 255, 255, 0.03),
      inset 0 -1px 0 rgba(0, 0, 0, 0.2);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
  }

  /* Interactive Card - Hover transforms */
  .glass-interactive {
    background: linear-gradient(
      180deg,
      rgba(26, 26, 32, 0.95) 0%,
      rgba(22, 22, 28, 0.95) 100%
    );
    border: 1px solid rgba(255, 255, 255, 0.08);
    box-shadow:
      0 0 0 1px rgba(0, 0, 0, 0.3),
      0 2px 4px rgba(0, 0, 0, 0.15),
      0 4px 8px rgba(0, 0, 0, 0.1);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .glass-interactive:hover {
    background: linear-gradient(
      180deg,
      rgba(36, 36, 44, 0.98) 0%,
      rgba(30, 30, 38, 0.98) 100%
    );
    border-color: rgba(139, 92, 246, 0.4);
    box-shadow:
      0 0 0 1px rgba(139, 92, 246, 0.2),
      0 4px 8px rgba(0, 0, 0, 0.2),
      0 8px 24px rgba(0, 0, 0, 0.25),
      0 0 40px -10px rgba(139, 92, 246, 0.3);
    transform: translateY(-2px);
  }

  /* Inset Surface - Input fields, wells */
  .glass-inset {
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(255, 255, 255, 0.03);
    box-shadow:
      inset 0 2px 4px rgba(0, 0, 0, 0.3),
      inset 0 1px 2px rgba(0, 0, 0, 0.2);
  }

  /* Premium Background Gradient - Subtle aurora effect */
  .gradient-mesh {
    background:
      radial-gradient(ellipse 80% 50% at 20% -20%, rgba(139, 92, 246, 0.15) 0%, transparent 50%),
      radial-gradient(ellipse 60% 40% at 80% -10%, rgba(236, 72, 153, 0.08) 0%, transparent 50%),
      radial-gradient(ellipse 50% 30% at 50% 100%, rgba(59, 130, 246, 0.06) 0%, transparent 40%),
      radial-gradient(ellipse 100% 100% at 50% 50%, rgba(10, 10, 12, 1) 0%, rgba(10, 10, 12, 1) 100%);
    background-attachment: fixed;
  }

  /* Noise texture overlay for tactile depth */
  .texture-noise::before {
    content: "";
    position: absolute;
    inset: 0;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
    opacity: 0.015;
    pointer-events: none;
    mix-blend-mode: overlay;
  }
}

/* ═══════════════════════════════════════════════════════════════════════════
   GLOW & HIGHLIGHT EFFECTS
   Premium luminosity effects for key actions and states
   ═══════════════════════════════════════════════════════════════════════════ */

@layer components {
  /* Primary glow - CTA buttons, key actions */
  .glow-primary {
    box-shadow:
      0 0 0 1px rgba(139, 92, 246, 0.3),
      0 2px 4px rgba(0, 0, 0, 0.2),
      0 0 20px -5px rgba(139, 92, 246, 0.5),
      0 0 40px -10px rgba(139, 92, 246, 0.3);
  }

  /* Subtle glow - Secondary emphasis */
  .glow-sm {
    box-shadow:
      0 0 0 1px rgba(139, 92, 246, 0.2),
      0 0 12px -3px rgba(139, 92, 246, 0.4);
  }

  /* Success glow */
  .glow-success {
    box-shadow:
      0 0 0 1px rgba(34, 197, 94, 0.3),
      0 0 20px -5px rgba(34, 197, 94, 0.4);
  }

  /* Warning glow */
  .glow-warning {
    box-shadow:
      0 0 0 1px rgba(251, 191, 36, 0.3),
      0 0 20px -5px rgba(251, 191, 36, 0.4);
  }

  /* Halo effect for icons and avatars */
  .halo {
    position: relative;
  }
  .halo::after {
    content: "";
    position: absolute;
    inset: -4px;
    background: radial-gradient(
      circle,
      rgba(139, 92, 246, 0.15) 0%,
      transparent 70%
    );
    border-radius: inherit;
    z-index: -1;
    opacity: 0;
    transition: opacity 0.3s ease;
  }
  .halo:hover::after {
    opacity: 1;
  }
}

/* ═══════════════════════════════════════════════════════════════════════════
   GRADIENT TEXT & BADGES
   Premium text treatments for branding and highlights
   ═══════════════════════════════════════════════════════════════════════════ */

@layer components {
  /* Premium gradient text */
  .text-gradient {
    background: linear-gradient(135deg, #a78bfa 0%, #818cf8 50%, #6366f1 100%);
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  .text-gradient-warm {
    background: linear-gradient(135deg, #fb7185 0%, #f472b6 50%, #c084fc 100%);
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  .text-gradient-cool {
    background: linear-gradient(135deg, #38bdf8 0%, #818cf8 50%, #a78bfa 100%);
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  /* Premium badge base */
  .badge {
    display: inline-flex;
    align-items: center;
    gap: 0.375rem;
    padding: 0.25rem 0.625rem;
    font-size: 0.6875rem;
    font-weight: 500;
    line-height: 1;
    letter-spacing: 0.01em;
    border-radius: 9999px;
    transition: all 0.2s ease;
  }

  /* Compact inline tag - for keywords, labels, chips */
  .tag {
    display: inline-flex;
    align-items: center;
    gap: 0.25rem;
    padding: 0.125rem 0.5rem;
    font-size: 0.6875rem;
    font-weight: 500;
    line-height: 1;
    border-radius: 0.375rem;
    transition: all 0.15s ease;
  }

  /* Badge variants with refined colors */
  .badge-primary {
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.2) 0%, rgba(99, 102, 241, 0.15) 100%);
    color: #c4b5fd;
    border: 1px solid rgba(139, 92, 246, 0.2);
  }

  .badge-success {
    background: linear-gradient(135deg, rgba(34, 197, 94, 0.2) 0%, rgba(16, 185, 129, 0.15) 100%);
    color: #86efac;
    border: 1px solid rgba(34, 197, 94, 0.2);
  }

  .badge-warning {
    background: linear-gradient(135deg, rgba(251, 191, 36, 0.2) 0%, rgba(245, 158, 11, 0.15) 100%);
    color: #fcd34d;
    border: 1px solid rgba(251, 191, 36, 0.2);
  }

  .badge-danger {
    background: linear-gradient(135deg, rgba(239, 68, 68, 0.2) 0%, rgba(220, 38, 38, 0.15) 100%);
    color: #fca5a5;
    border: 1px solid rgba(239, 68, 68, 0.2);
  }

  .badge-info {
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.2) 0%, rgba(37, 99, 235, 0.15) 100%);
    color: #93c5fd;
    border: 1px solid rgba(59, 130, 246, 0.2);
  }

  .badge-neutral {
    background: linear-gradient(135deg, rgba(113, 113, 122, 0.2) 0%, rgba(82, 82, 91, 0.15) 100%);
    color: #d4d4d8;
    border: 1px solid rgba(113, 113, 122, 0.2);
  }
}

/* ═══════════════════════════════════════════════════════════════════════════
   PREMIUM BUTTON SYSTEM
   Sophisticated buttons with depth and interaction feedback
   ═══════════════════════════════════════════════════════════════════════════ */

@layer components {
  .btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    padding: 0.625rem 1rem;
    font-size: 0.875rem;
    font-weight: 500;
    letter-spacing: -0.01em;
    border-radius: 0.625rem;
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    cursor: pointer;
    position: relative;
    overflow: hidden;
  }

  /* Primary button - Main CTA */
  .btn-primary {
    background: linear-gradient(180deg, #9333ea 0%, #7c3aed 50%, #6d28d9 100%);
    color: white;
    border: 1px solid rgba(255, 255, 255, 0.1);
    box-shadow:
      0 1px 2px rgba(0, 0, 0, 0.2),
      0 4px 8px rgba(109, 40, 217, 0.3),
      inset 0 1px 0 rgba(255, 255, 255, 0.15);
  }

  .btn-primary:hover {
    background: linear-gradient(180deg, #a855f7 0%, #8b5cf6 50%, #7c3aed 100%);
    box-shadow:
      0 2px 4px rgba(0, 0, 0, 0.2),
      0 8px 16px rgba(109, 40, 217, 0.4),
      0 0 40px -10px rgba(139, 92, 246, 0.5),
      inset 0 1px 0 rgba(255, 255, 255, 0.2);
    transform: translateY(-1px);
  }

  .btn-primary:active {
    transform: translateY(0);
    box-shadow:
      0 1px 2px rgba(0, 0, 0, 0.2),
      0 2px 4px rgba(109, 40, 217, 0.3),
      inset 0 1px 2px rgba(0, 0, 0, 0.1);
  }

  /* Secondary button */
  .btn-secondary {
    background: linear-gradient(180deg, rgba(39, 39, 42, 0.8) 0%, rgba(24, 24, 27, 0.8) 100%);
    color: #e4e4e7;
    border: 1px solid rgba(255, 255, 255, 0.08);
    box-shadow:
      0 1px 2px rgba(0, 0, 0, 0.2),
      inset 0 1px 0 rgba(255, 255, 255, 0.04);
  }

  .btn-secondary:hover {
    background: linear-gradient(180deg, rgba(63, 63, 70, 0.8) 0%, rgba(39, 39, 42, 0.8) 100%);
    border-color: rgba(255, 255, 255, 0.12);
    color: #fafafa;
  }

  /* Ghost button */
  .btn-ghost {
    background: transparent;
    color: #a1a1aa;
    border: 1px solid transparent;
  }

  .btn-ghost:hover {
    background: rgba(255, 255, 255, 0.05);
    color: #fafafa;
    border-color: rgba(255, 255, 255, 0.06);
  }

  /* Danger button */
  .btn-danger {
    background: linear-gradient(180deg, #dc2626 0%, #b91c1c 100%);
    color: white;
    border: 1px solid rgba(255, 255, 255, 0.1);
    box-shadow:
      0 1px 2px rgba(0, 0, 0, 0.2),
      0 4px 8px rgba(185, 28, 28, 0.3);
  }

  .btn-danger:hover {
    background: linear-gradient(180deg, #ef4444 0%, #dc2626 100%);
    box-shadow:
      0 2px 4px rgba(0, 0, 0, 0.2),
      0 8px 16px rgba(185, 28, 28, 0.4);
  }
}

/* ═══════════════════════════════════════════════════════════════════════════
   INPUT & FORM STYLES
   Premium form controls with refined interactions
   ═══════════════════════════════════════════════════════════════════════════ */

@layer components {
  .input {
    width: 100%;
    padding: 0.625rem 0.875rem;
    font-size: 0.875rem;
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(255, 255, 255, 0.08);
    border-radius: 0.625rem;
    color: #fafafa;
    transition: all 0.2s ease;
    box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.2);
  }

  .input::placeholder {
    color: #71717a;
  }

  .input:hover {
    border-color: rgba(255, 255, 255, 0.12);
  }

  .input:focus {
    outline: none;
    border-color: rgba(139, 92, 246, 0.5);
    box-shadow:
      inset 0 1px 2px rgba(0, 0, 0, 0.2),
      0 0 0 3px rgba(139, 92, 246, 0.15);
  }
}

/* ═══════════════════════════════════════════════════════════════════════════
   PREMIUM ANIMATIONS
   Smooth, spring-based animations for delightful interactions
   ═══════════════════════════════════════════════════════════════════════════ */

@layer utilities {
  /* Keyframes */
  @keyframes fade-in {
    from { opacity: 0; }
    to { opacity: 1; }
  }

  @keyframes fade-up {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes fade-down {
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes scale-in {
    from {
      opacity: 0;
      transform: scale(0.95);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  @keyframes slide-in-right {
    from {
      opacity: 0;
      transform: translateX(20px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  @keyframes pulse-soft {
    0%, 100% {
      opacity: 1;
    }
    50% {
      opacity: 0.7;
    }
  }

  @keyframes pulse-ring {
    0% {
      box-shadow: 0 0 0 0 rgba(139, 92, 246, 0.4);
    }
    70% {
      box-shadow: 0 0 0 8px rgba(139, 92, 246, 0);
    }
    100% {
      box-shadow: 0 0 0 0 rgba(139, 92, 246, 0);
    }
  }

  @keyframes shimmer {
    0% {
      background-position: -200% 0;
    }
    100% {
      background-position: 200% 0;
    }
  }

  @keyframes float {
    0%, 100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-6px);
    }
  }

  @keyframes spin-slow {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }

  @keyframes bounce-soft {
    0%, 100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-4px);
    }
  }

  /* Animation classes */
  .animate-fade-in {
    animation: fade-in 0.2s ease-out;
  }

  .animate-fade-up {
    animation: fade-up 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .animate-fade-down {
    animation: fade-down 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .animate-scale-in {
    animation: scale-in 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .animate-slide-in-right {
    animation: slide-in-right 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .animate-pulse-soft {
    animation: pulse-soft 2s ease-in-out infinite;
  }

  .animate-pulse-ring {
    animation: pulse-ring 1.5s ease-out infinite;
  }

  .animate-shimmer {
    background: linear-gradient(
      90deg,
      transparent 0%,
      rgba(255, 255, 255, 0.04) 50%,
      transparent 100%
    );
    background-size: 200% 100%;
    animation: shimmer 2s ease-in-out infinite;
  }

  .animate-float {
    animation: float 4s ease-in-out infinite;
  }

  .animate-spin-slow {
    animation: spin-slow 8s linear infinite;
  }

  .animate-bounce-soft {
    animation: bounce-soft 2s ease-in-out infinite;
  }

  /* Staggered animation delays */
  .delay-75 { animation-delay: 75ms; }
  .delay-100 { animation-delay: 100ms; }
  .delay-150 { animation-delay: 150ms; }
  .delay-200 { animation-delay: 200ms; }
  .delay-300 { animation-delay: 300ms; }
  .delay-500 { animation-delay: 500ms; }
}

/* ═══════════════════════════════════════════════════════════════════════════
   TRANSITIONS
   Smooth, consistent motion throughout the interface
   ═══════════════════════════════════════════════════════════════════════════ */

@layer utilities {
  .transition-smooth {
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .transition-fast {
    transition: all 0.15s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .transition-slow {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .transition-spring {
    transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  .transition-colors-smooth {
    transition: color 0.2s ease, background-color 0.2s ease, border-color 0.2s ease, box-shadow 0.2s ease;
  }
}

/* ═══════════════════════════════════════════════════════════════════════════
   SCROLLBAR
   Refined, minimal scrollbar that doesn't distract
   ═══════════════════════════════════════════════════════════════════════════ */

@layer base {
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    background: transparent;
  }

  ::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 4px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.15);
  }

  ::-webkit-scrollbar-corner {
    background: transparent;
  }

  /* Firefox */
  * {
    scrollbar-width: thin;
    scrollbar-color: rgba(255, 255, 255, 0.1) transparent;
  }
}

/* ═══════════════════════════════════════════════════════════════════════════
   FOCUS STATES - ENHANCED ACCESSIBILITY
   Clear, visible focus indicators that meet WCAG 2.2 requirements
   ═══════════════════════════════════════════════════════════════════════════ */

@layer base {
  /* Default focus-visible with high contrast ring */
  :focus-visible {
    outline: none;
    box-shadow:
      0 0 0 2px var(--color-background),
      0 0 0 4px var(--color-primary);
    border-radius: var(--radius-sm);
  }

  /* Input fields have their own focus styling */
  input:focus-visible,
  textarea:focus-visible,
  select:focus-visible {
    box-shadow:
      inset 0 1px 2px rgba(0, 0, 0, 0.2),
      0 0 0 2px var(--color-background),
      0 0 0 4px var(--color-primary);
  }

  /* Remove default outline for inputs (handled by box-shadow) */
  input:focus,
  textarea:focus,
  select:focus {
    outline: none;
  }

  /* Focus within for compound components (dropdowns, etc) */
  .focus-within-ring:focus-within {
    box-shadow:
      0 0 0 2px var(--color-background),
      0 0 0 4px var(--color-primary);
  }

  /* High contrast mode support for focus indicators */
  @media (forced-colors: active) {
    :focus-visible {
      outline: 3px solid CanvasText !important;
      outline-offset: 2px;
      box-shadow: none;
    }
  }

  /* Skip link styling when focused */
  .skip-link:focus {
    position: fixed;
    top: 1rem;
    left: 1rem;
    z-index: 9999;
    padding: 0.75rem 1.5rem;
    background: var(--color-primary);
    color: white;
    border-radius: var(--radius-lg);
    font-weight: 600;
    text-decoration: none;
    box-shadow:
      0 4px 12px rgba(0, 0, 0, 0.3),
      0 0 0 2px white;
  }
}

/* ═══════════════════════════════════════════════════════════════════════════
   SELECTION
   Branded selection color
   ═══════════════════════════════════════════════════════════════════════════ */

@layer base {
  ::selection {
    background: rgba(139, 92, 246, 0.3);
    color: #fafafa;
  }
}

/* ═══════════════════════════════════════════════════════════════════════════
   ACCESSIBILITY
   Screen reader utilities and reduced motion support
   ═══════════════════════════════════════════════════════════════════════════ */

@layer utilities {
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
  }

  .sr-only-focusable:focus,
  .sr-only-focusable:active {
    position: static;
    width: auto;
    height: auto;
    padding: 0.5rem 1rem;
    margin: 0;
    overflow: visible;
    clip: auto;
    white-space: normal;
  }

  .not-sr-only {
    position: static;
    width: auto;
    height: auto;
    padding: 0;
    margin: 0;
    overflow: visible;
    clip: auto;
    white-space: normal;
  }
}

/* Touch targets */
@layer base {
  button:not(.touch-compact),
  [role="button"]:not(.touch-compact),
  select:not(.touch-compact) {
    min-height: 44px;
  }

  nav a {
    min-height: 44px;
    display: inline-flex;
    align-items: center;
  }

  .touch-compact {
    min-height: auto;
  }
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* ═══════════════════════════════════════════════════════════════════════════
   SAFE AREAS
   Mobile device safe area support
   ═══════════════════════════════════════════════════════════════════════════ */

@supports (padding-bottom: env(safe-area-inset-bottom)) {
  .safe-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }
  .safe-top {
    padding-top: env(safe-area-inset-top);
  }
}

/* ═══════════════════════════════════════════════════════════════════════════
   UTILITIES
   Additional helper classes
   ═══════════════════════════════════════════════════════════════════════════ */

@layer utilities {
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* Backdrop blur fallback */
  @supports not (backdrop-filter: blur(12px)) {
    .glass,
    .glass-strong,
    .glass-subtle {
      background: rgba(24, 24, 28, 0.98);
    }
  }

  /* Line clamp utilities */
  .line-clamp-1 {
    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* Text balance */
  .text-balance {
    text-wrap: balance;
  }

  /* Aspect ratio */
  .aspect-video {
    aspect-ratio: 16 / 9;
  }

  .aspect-square {
    aspect-ratio: 1 / 1;
  }
}

/* ═══════════════════════════════════════════════════════════════════════════
   LEGACY COMPATIBILITY
   Maintain backwards compatibility with existing component classes
   ═══════════════════════════════════════════════════════════════════════════ */

@layer utilities {
  /* Slide up fade - used in existing components */
  @keyframes slide-up-fade {
    from {
      opacity: 0;
      transform: translateY(8px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-slide-up-fade {
    animation: slide-up-fade 0.25s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .animate-slide-down-fade {
    animation: fade-down 0.25s cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* Pulse glow for live indicators */
  @keyframes pulse-glow {
    0%, 100% {
      box-shadow: 0 0 0 0 currentColor;
    }
    50% {
      box-shadow: 0 0 0 4px transparent;
    }
  }

  .animate-pulse-glow {
    animation: pulse-glow 2s ease-in-out infinite;
  }
}

/* ═══════════════════════════════════════════════════════════════════════════
   TYPOGRAPHY UTILITIES
   Semantic text classes for consistent hierarchy
   ═══════════════════════════════════════════════════════════════════════════ */

@layer components {
  /* Text color hierarchy */
  .text-primary {
    color: var(--color-text-primary);
  }

  .text-secondary {
    color: var(--color-text-secondary);
  }

  .text-tertiary {
    color: var(--color-text-tertiary);
  }

  .text-muted {
    color: var(--color-text-muted);
  }

  /* Reading-optimized body text */
  .prose {
    font-size: 1rem;
    line-height: 1.65;
    letter-spacing: -0.01em;
    max-width: 65ch;
    color: var(--color-text-secondary);
  }

  .prose > * + * {
    margin-top: 1.25em;
  }

  .prose strong {
    color: var(--color-text-primary);
    font-weight: 600;
  }

  /* Dashboard metrics - tighter for data density */
  .metric {
    font-variant-numeric: tabular-nums;
    letter-spacing: -0.02em;
    font-weight: 600;
  }

  .metric-lg {
    font-size: var(--text-3xl);
    line-height: 1;
    font-weight: 700;
    font-variant-numeric: tabular-nums;
    letter-spacing: -0.03em;
  }

  .metric-xl {
    font-size: var(--text-4xl);
    line-height: 1;
    font-weight: 700;
    font-variant-numeric: tabular-nums;
    letter-spacing: -0.04em;
  }

  /* Labels - uppercase with tracking */
  .label {
    font-size: 0.6875rem;
    font-weight: 600;
    letter-spacing: 0.05em;
    text-transform: uppercase;
    color: var(--color-text-muted);
  }

  .label-sm {
    font-size: 0.625rem;
    font-weight: 600;
    letter-spacing: 0.06em;
    text-transform: uppercase;
    color: var(--color-text-muted);
  }

  /* Truncation with ellipsis */
  .truncate-fade {
    position: relative;
    overflow: hidden;
  }

  .truncate-fade::after {
    content: "";
    position: absolute;
    right: 0;
    top: 0;
    bottom: 0;
    width: 3rem;
    background: linear-gradient(to right, transparent, var(--color-background));
    pointer-events: none;
  }
}

/* ═══════════════════════════════════════════════════════════════════════════
   SKELETON LOADING SYSTEM
   Consistent loading states across the application
   ═══════════════════════════════════════════════════════════════════════════ */

@layer components {
  /* Base skeleton element */
  .skeleton {
    background: linear-gradient(
      90deg,
      var(--color-surface-1) 25%,
      var(--color-surface-2) 50%,
      var(--color-surface-1) 75%
    );
    background-size: 200% 100%;
    animation: skeleton-shimmer 1.5s ease-in-out infinite;
    border-radius: var(--radius-md);
  }

  @keyframes skeleton-shimmer {
    0% {
      background-position: 200% 0;
    }
    100% {
      background-position: -200% 0;
    }
  }

  /* Skeleton text lines */
  .skeleton-text {
    height: 1em;
    margin-bottom: 0.5em;
    border-radius: var(--radius-sm);
  }

  .skeleton-text:last-child {
    width: 80%;
  }

  /* Skeleton avatar */
  .skeleton-avatar {
    width: 40px;
    height: 40px;
    border-radius: 50%;
  }

  .skeleton-avatar-sm {
    width: 32px;
    height: 32px;
  }

  .skeleton-avatar-lg {
    width: 56px;
    height: 56px;
  }

  /* Skeleton card */
  .skeleton-card {
    height: 120px;
    border-radius: var(--radius-lg);
  }

  /* Skeleton button */
  .skeleton-button {
    height: 40px;
    width: 100px;
    border-radius: var(--radius-md);
  }

  /* Respect reduced motion */
  @media (prefers-reduced-motion: reduce) {
    .skeleton {
      animation: none;
      background: var(--color-surface-2);
    }
  }
}

/* ═══════════════════════════════════════════════════════════════════════════
   EMPTY STATE PATTERNS
   Consistent empty state styling
   ═══════════════════════════════════════════════════════════════════════════ */

@layer components {
  .empty-state {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: var(--space-12);
    text-align: center;
  }

  .empty-state-icon {
    width: 64px;
    height: 64px;
    margin-bottom: var(--space-4);
    color: var(--color-text-muted);
    opacity: 0.5;
  }

  .empty-state-title {
    font-size: var(--text-lg);
    font-weight: 600;
    color: var(--color-text-primary);
    margin-bottom: var(--space-2);
  }

  .empty-state-description {
    font-size: var(--text-sm);
    color: var(--color-text-tertiary);
    max-width: 280px;
    margin-bottom: var(--space-6);
  }
}

/* ═══════════════════════════════════════════════════════════════════════════
   STATUS INDICATORS
   Consistent status styling with color-blind safe patterns
   ═══════════════════════════════════════════════════════════════════════════ */

@layer components {
  /* Status dot indicators */
  .status-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    flex-shrink: 0;
  }

  .status-dot-success {
    background: var(--color-success);
    box-shadow: 0 0 0 2px var(--color-success-muted);
  }

  .status-dot-warning {
    background: var(--color-warning);
    box-shadow: 0 0 0 2px var(--color-warning-muted);
  }

  .status-dot-danger {
    background: var(--color-destructive);
    box-shadow: 0 0 0 2px var(--color-destructive-muted);
  }

  .status-dot-info {
    background: var(--color-info);
    box-shadow: 0 0 0 2px var(--color-info-muted);
  }

  /* Animated pulse for live/active status */
  .status-dot-pulse {
    position: relative;
  }

  .status-dot-pulse::before {
    content: "";
    position: absolute;
    inset: -4px;
    border-radius: 50%;
    background: inherit;
    opacity: 0.4;
    animation: status-pulse 2s ease-in-out infinite;
  }

  @keyframes status-pulse {
    0%, 100% {
      transform: scale(1);
      opacity: 0.4;
    }
    50% {
      transform: scale(1.5);
      opacity: 0;
    }
  }
}

/* ═══════════════════════════════════════════════════════════════════════════
   CARD PATTERNS
   Reusable card component styles
   ═══════════════════════════════════════════════════════════════════════════ */

@layer components {
  /* Stat card for metrics display */
  .stat-card {
    padding: var(--space-6);
    border-radius: var(--radius-xl);
    background: var(--color-surface-1);
    border: 1px solid var(--color-border-subtle);
  }

  .stat-card-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: var(--space-3);
  }

  .stat-card-value {
    font-size: var(--text-3xl);
    font-weight: 700;
    font-variant-numeric: tabular-nums;
    letter-spacing: -0.03em;
    color: var(--color-text-primary);
  }

  .stat-card-label {
    font-size: var(--text-sm);
    color: var(--color-text-tertiary);
    margin-top: var(--space-1);
  }

  /* Trend indicators */
  .trend {
    display: inline-flex;
    align-items: center;
    gap: var(--space-1);
    font-size: var(--text-sm);
    font-weight: 500;
  }

  .trend-up {
    color: var(--color-success);
  }

  .trend-down {
    color: var(--color-destructive);
  }

  .trend-neutral {
    color: var(--color-text-muted);
  }
}
